<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë‹¤ë‹¤ë‹¤ íŠ¸ë ˆì¸ | ìŠ¹ì°¨ê¶Œ ì˜ˆë§¤</title>
  
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kwackiii.github.io/dadadadadad/">
  <meta property="og:title" content="ë‹¤ë‹¤ë‹¤ íŠ¸ë ˆì¸ - ìŠ¹ì°¨ê¶Œ ì˜ˆë§¤">
  <meta property="og:description" content="ì§€ê¸ˆ ë°”ë¡œ í–‰ì„ ì§€ë¥¼ ì„ íƒí•˜ì—¬, ìŠ¹ì°¨ê¶Œì„ ì˜ˆë§¤í•˜ì„¸ìš”.">
  <meta property="og:image" content="https://kwackiii.github.io/dadadadadad/assets/og_thumb.jpg"> 
  <meta name="twitter:card" content="summary_large_image">

  <meta name="description" content="ë‹¤ë‹¤ë‹¤ 3ì›” ë”ë¸”ì‹±ê¸€ í”„ë¡œëª¨ì…˜" />
  <style>
    /* [í…Œë§ˆ ì„¤ì •] 
      ê¸°ë³¸(ë‹¤í¬) ë³€ìˆ˜ ì •ì˜ í›„, [data-theme="light"]ì—ì„œ ë®ì–´ì“°ê¸° 
    */
    :root {
      /* ë‹¤í¬ ëª¨ë“œ (ê¸°ë³¸) */
      --bg: #0b0d12;
      --panel: #161a26;
      --panel-bd: rgba(56, 66, 89, 0.4);
      --text: #e9eefc;
      --text-muted: #8b9bb4;
      --primary: #6ea8ff;
      --primary-dim: rgba(110,168,255,0.15);
      --accent: #ff5c7a;
      --line: rgba(56, 66, 89, 0.5);
      --shadow: 0 8px 24px rgba(0,0,0,0.4);
      --radius: 14px;
      
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, sans-serif;
    }

    /* ë¼ì´íŠ¸ ëª¨ë“œ ì˜¤ë²„ë¼ì´ë“œ (âœ… html â†’ body ë¡œ ìˆ˜ì •) */
    body[data-theme="light"] {
      --bg: #f4f5f9;
      --panel: #ffffff;
      --panel-bd: rgba(200, 210, 230, 0.6);
      --text: #1a1e2b;
      --text-muted: #58657d;
      --primary: #2d6cdb;
      --primary-dim: rgba(45,108,219,0.1);
      --accent: #e02e4f;
      --line: rgba(200, 210, 230, 0.8);
      --shadow: 0 4px 20px rgba(0,0,0,0.06);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    
    body{
      margin:0;
      font-family:var(--sans);
      background: var(--bg);
      color:var(--text);
      transition: background 0.3s ease, color 0.3s ease;
    }
    
    a{color:inherit; text-decoration:none}
    
    /* ë ˆì´ì•„ì›ƒ */
    .wrap{max-width:1080px;margin:0 auto;padding:24px}
    
    /* ìƒë‹¨ë°” */
    .topbar{
      position:sticky;top:0;z-index:100;
      backdrop-filter: blur(12px);
      background: var(--bg); /* íˆ¬ëª…ë„ ì œê±°í•˜ì—¬ ê¹”ë”í•˜ê²Œ */
      border-bottom:1px solid var(--line);
      transition: background 0.3s ease, border-color 0.3s ease;
    }
    .topbar .inner{display:flex;align-items:center;justify-content:space-between;padding:14px 24px; max-width:1080px; margin:0 auto;}
    
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:36px;height:36px;border-radius:10px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      box-shadow: 0 4px 12px var(--primary-dim);
    }
    .brand h1{font-size:16px;margin:0;font-weight:800;letter-spacing:-0.5px}
    .brand .sub{font-size:12px;color:var(--text-muted);margin-top:2px}

    .nav{display:flex;gap:8px;align-items:center}
    .nav a{
      font-size:13px;color:var(--text-muted);
      padding:8px 12px;border-radius:8px;
      transition:0.2s;
    }
    .nav a:hover{background:var(--primary-dim);color:var(--primary);font-weight:600}

    /* í…Œë§ˆ í† ê¸€ ë²„íŠ¼ */
    .themeBtn{
      background:none; border:1px solid var(--line);
      color:var(--text);
      width:36px; height:36px; border-radius:50%;
      cursor:pointer; display:flex;align-items:center;justify-content:center;
      margin-left:8px;
      font-size:18px;
    }
    .themeBtn:hover{background:var(--panel)}

    /* ì¹´ë“œ ê³µí†µ */
    .card{
      background: var(--panel);
      border:1px solid var(--panel-bd);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-bottom:20px;
      transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
    }
    .card .hd{
      padding:16px 20px;
      border-bottom:1px solid var(--line);
      display:flex;justify-content:space-between;align-items:center;
    }
    .card .hd .title{font-size:15px;font-weight:700;margin:0}
    .card .hd .hint{font-size:12px;color:var(--text-muted);font-family:var(--mono)}
    .card .bd{padding:20px}

    /* ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
    .grid-hero{
      display:grid; grid-template-columns: 1.2fr 0.8fr; gap:20px;
      margin-top:20px;
    }
    @media (max-width: 768px){ .grid-hero{grid-template-columns:1fr} }

    /* í¼ ìš”ì†Œ */
    .form-grid{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
    label{display:block;font-size:12px;color:var(--text-muted);margin-bottom:6px;font-weight:600}
    input, select{
      width:100%; padding:12px; border-radius:10px;
      border:1px solid var(--line);
      background: var(--bg); color:var(--text);
      font-size:14px; outline:none; transition:0.2s;
    }
    input:focus, select:focus{border-color:var(--primary); box-shadow:0 0 0 3px var(--primary-dim)}

    /* ë²„íŠ¼ */
    .btnbar{display:flex;gap:10px;margin-top:16px;align-items:center}
    .btn{
      padding:12px 18px; border-radius:10px; font-size:14px; font-weight:700;
      cursor:pointer; border:1px solid var(--line); background:var(--panel); color:var(--text);
    }
    .btn.primary{
      background: var(--primary); border-color:var(--primary); color:#fff;
    }
    .btn:hover{filter:brightness(0.95)}
    .btn.primary:hover{filter:brightness(1.1)}
    
    .mini-info{font-size:12px;color:var(--text-muted);margin-left:auto}
    @media (max-width: 500px){ .mini-info{display:none} }

    /* ë°°ì§€/ì •ë³´ë°•ìŠ¤ */
    .badge{
      display:inline-flex; padding:6px 10px; border-radius:20px;
      background:var(--bg); border:1px solid var(--line);
      font-size:12px; color:var(--text-muted); font-family:var(--mono); margin-right:4px; margin-bottom:4px;
    }
    .badge strong{color:var(--primary); margin-left:4px;}
    
    /* í…Œì´ë¸” */
    .table-wrap{overflow:hidden; border-radius:var(--radius); border:1px solid var(--panel-bd);}
    .table{width:100%; border-collapse:collapse; background:var(--panel);}
    .table th{
      background:var(--bg); text-align:left; padding:14px;
      font-size:13px; color:var(--text-muted); font-weight:700;
      border-bottom:1px solid var(--line);
    }
    .table td{
      padding:14px; border-bottom:1px solid var(--line);
      font-size:14px; vertical-align:middle;
    }
    .table tr:last-child td{border-bottom:none}
    
    /* ë°˜ì‘í˜• í…Œì´ë¸” (ì¹´ë“œë·°) */
    @media (max-width: 768px) {
      .table thead {display:none}
      .table tr {
        display:block; border-bottom:1px solid var(--line); padding:16px;
      }
      .table td {
        display:flex; justify-content:space-between; align-items:center;
        border:none; padding:4px 0;
      }
      .table td:before {
        content: attr(data-label); font-size:12px; color:var(--text-muted); font-weight:600;
      }
      .table td:last-child { margin-top:12px; padding-top:12px; border-top:1px dashed var(--line); display:flex; justify-content:flex-end;}
      .table td:last-child:before{content:none}
    }

    /* ìœ í‹¸ë¦¬í‹° */
    .pill{
      font-size:11px; padding:4px 8px; border-radius:6px;
      background:var(--bg); border:1px solid var(--line); color:var(--text-muted);
    }
    .status-dot{width:8px;height:8px;border-radius:50%;background:var(--line);display:inline-block;margin-right:6px}
    .status-ok .status-dot{background:#66e3b4}
    
    .action-btn{
      padding:8px 12px; border-radius:8px; font-size:12px; font-weight:700;
      text-decoration:none; display:inline-block; cursor:pointer;
      border:1px solid var(--line); background:var(--bg); color:var(--text);
    }
    .action-btn.primary{
      background:var(--primary); border-color:var(--primary); color:#fff;
    }
    
    .fold-content{
      background:var(--bg); padding:16px; display:none; border-top:1px solid var(--line);
    }
    .fold-content.open{display:block}
    .kv-list{display:grid; grid-template-columns: 80px 1fr; gap:8px; font-size:13px;}
    .kv-list dt{color:var(--text-muted); font-family:var(--mono)}
    .kv-list dd{margin:0; color:var(--text)}

    /* í† ìŠ¤íŠ¸ ë©”ì‹œì§€ */
    .toast{
      position:fixed; bottom:20px; left:50%; transform:translateX(-50%);
      background:rgba(0,0,0,0.85); color:#fff;
      padding:10px 20px; border-radius:30px; font-size:13px;
      opacity:0; pointer-events:none; transition:0.3s; z-index:999;
    }
    .toast.show{opacity:1; bottom:30px;}
    
    footer{
      text-align:center; padding:40px 0; color:var(--text-muted); font-size:12px;
      border-top:1px solid var(--line); margin-top:40px;
    }

    /* =========================================================
       âœ… (ì¶”ê°€) í…Œì´ë¸” â€œë°ìŠ¤í¬í†±â€ì—ì„œë§Œ ì „ì²´ ê°€ìš´ë° ì •ë ¬
       - ì›Œë”©/ê¸°ëŠ¥/êµ¬ì¡° ë³€ê²½ ì—†ìŒ
       - ëª¨ë°”ì¼ ì¹´ë“œë·°(@media max-width:768px)ëŠ” ê¸°ì¡´ëŒ€ë¡œ ìœ ì§€
    ========================================================= */
    @media (min-width: 769px) {
      .table th,
      .table td{
        text-align:center;
      }
      .table td:last-child{
        text-align:center;
      }
    }
  </style>
</head>

<body data-theme="dark">
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>DADADA</h1>
          <div class="sub">Ticket Reservation</div>
        </div>
      </div>
      <div style="display:flex; align-items:center;">
        <nav class="nav" style="display:none;" id="pcNav">
          <a href="#search">ì¡°íšŒ</a>
          <a href="#trains">ì—´ì°¨</a>
          <a href="#schedule">í¸ì„±</a>
        </nav>
        <button class="themeBtn" id="themeToggle" aria-label="í…Œë§ˆ ë³€ê²½">ğŸŒ™</button>
      </div>
    </div>
  </div>

  <main class="wrap">
    <div class="grid-hero" id="search">
      <div class="card">
        <div class="hd">
          <p class="title">ìš´í–‰ì¡°íšŒ</p>
          <p class="hint">TICKET</p>
        </div>
        <div class="bd">
          <div class="form-grid">
            <div>
              <label>ì¶œë°œì—­</label>
              <select id="from">
                <option value="í˜„ì‹¤">í˜„ì‹¤</option>
                <option value="ì§€ê¸ˆ">ì§€ê¸ˆ</option>
                <option value="ì¼ìƒ">ì¼ìƒ</option>
              </select>
            </div>
            <div>
              <label>ë„ì°©ì—­</label>
              <select id="to">
                <option value="ì„œìš¸">ì„œìš¸</option>
                <option value="ê¿ˆ">ê¿ˆ</option>
                <option value="ì´ìƒ">ì´ìƒ</option>
              </select>
            </div>
            <div>
              <label>ì¶œë°œì¼</label>
              <input type="date" id="dateInput" />
            </div>
            <div>
              <label>ì¸ì›</label>
              <select id="pax">
                <option value="1">1ëª…</option>
                <option value="2">2ëª…</option>
              </select>
            </div>
          </div>
          <div class="btnbar">
            <button class="btn primary" id="btnSearch">ì¡°íšŒí•˜ê¸°</button>
            <button class="btn" id="btnReset">ì´ˆê¸°í™”</button>
            <span class="mini-info">â€» ì‹¤ì œ ì˜ˆë§¤ê°€ ì•„ë‹Œ í”„ë¡œëª¨ì…˜ í˜ì´ì§€ì…ë‹ˆë‹¤.</span>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="hd">
          <p class="title">ë‚˜ì˜ ì—¬ì •</p>
          <p class="hint">MY TRIP</p>
        </div>
        <div class="bd">
          <div id="tripInfo">
            <div class="badge">êµ¬ê°„ <strong>í˜„ì‹¤ â†’ ì„œìš¸</strong></div>
            <div class="badge">ì¸ì› <strong>1ëª…</strong></div>
            <div class="badge">ë‚ ì§œ <strong>ë¯¸ì§€ì •</strong></div>
          </div>
          <hr style="border:0; border-top:1px dashed var(--line); margin:16px 0">
          <p style="font-size:13px; color:var(--text-muted); line-height:1.5;">
            "ì›í•˜ëŠ” ê³³ìœ¼ë¡œ ë– ë‚  ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”?<br>
            ì•„ë˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì—´ì°¨ë¥¼ ì„ íƒí•˜ê³  ìŠ¹ì°¨ê¶Œì„ ë°œê¶Œí•˜ì„¸ìš”."
          </p>
        </div>
      </div>
    </div>

    <div id="trains" style="margin-top:40px;">
      <h2 style="font-size:18px; margin-bottom:12px;">ì—´ì°¨ ì„ íƒ</h2>
      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>ì—´ì°¨ì¢…ë¥˜</th>
              <th>ì¶œë°œ / ë„ì°©</th>
              <th>ì†Œìš”ì‹œê°„</th>
              <th>íŠ¹ì´ì‚¬í•­</th>
              <th style="text-align:right">ì˜ˆë§¤</th>
            </tr>
          </thead>
          <tbody id="trainList">
          </tbody>
        </table>
      </div>
    </div>

    <div id="schedule" style="margin-top:40px;">
      <h2 style="font-size:18px; margin-bottom:12px;">ìš´í–‰ í¸ì„± (ì½˜í…ì¸ )</h2>
      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>ë‚ ì§œ</th>
              <th>êµ¬ë¶„</th>
              <th>ì œëª©</th>
              <th>ìƒíƒœ</th>
              <th style="text-align:right">ë°”ë¡œê°€ê¸°</th>
            </tr>
          </thead>
          <tbody id="contentList">
          </tbody>
        </table>
      </div>
    </div>

    <footer>
      Â© 2026 DADADA Project. All rights reserved.<br>
      Developed simply for fans.
    </footer>
  </main>

  <div class="toast" id="toast">ë©”ì‹œì§€</div>

  <script>
    // --- 1. ë°ì´í„° ---
    const TRAINS = [
      { id:"KTX-0301", type:"KTX", dep:"23:10", arr:"00:00", dur:"50ë¶„", 
        note:"ë¬´ì •ì°¨", link:"#", color:"#6ea8ff", name:"ì²«ë²ˆì§¸ íŠ¸ë™" },
      { id:"ITX-0302", type:"ITX", dep:"00:20", arr:"01:05", dur:"45ë¶„", 
        note:"ê²½ìœ ", link:"#", color:"#ff5c7a", name:"ë‘ë²ˆì§¸ íŠ¸ë™" }
    ];

    const CONTENTS = [
      { date:"02.20", type:"Teaser", title:"Video Teaser", status:true, link:"#" },
      { date:"02.24", type:"Photo", title:"Concept Photo 1", status:true, link:"#" },
      { date:"03.01", type:"Music", title:"Double Single Release", status:false, link:"#" }
    ];

    // --- 2. í…Œë§ˆ(ë‹¤í¬/ë¼ì´íŠ¸) ê´€ë¦¬ ---
    const themeBtn = document.getElementById('themeToggle');
    const body = document.body;

    // ì €ì¥ëœ í…Œë§ˆ ë¶ˆëŸ¬ì˜¤ê¸°
    const savedTheme = localStorage.getItem('theme') || 'dark';
    body.setAttribute('data-theme', savedTheme);
    updateThemeIcon(savedTheme);

    themeBtn.addEventListener('click', () => {
      const current = body.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      body.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      updateThemeIcon(next);
    });

    function updateThemeIcon(theme){
      themeBtn.textContent = theme === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
    }

    // --- 3. ë Œë”ë§ & ê¸°ëŠ¥ ---
    const $ = (s) => document.querySelector(s);
    
    // ì´ˆê¸° ë‚ ì§œ ì„¸íŒ…
    $('#dateInput').value = "2026-03-01";
    updateTripInfo();

    // ì¡°íšŒ ë²„íŠ¼ ë“± ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    $('#btnSearch').onclick = () => { showToast('ì¡°íšŒëœ ì—´ì°¨ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.'); };
    $('#btnReset').onclick = () => { 
      $('#from').value = "í˜„ì‹¤"; $('#to').value = "ì„œìš¸";
      updateTripInfo(); showToast('ì„¤ì •ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.'); 
    };
    $('#from').onchange = updateTripInfo;
    $('#to').onchange = updateTripInfo;
    $('#pax').onchange = updateTripInfo;
    $('#dateInput').onchange = updateTripInfo;

    function updateTripInfo(){
      const f = $('#from').value;
      const t = $('#to').value;
      const d = $('#dateInput').value;
      const p = $('#pax').value;
      
      $('#tripInfo').innerHTML = `
        <div class="badge">êµ¬ê°„ <strong>${f} â†’ ${t}</strong></div>
        <div class="badge">ì¸ì› <strong>${p}ëª…</strong></div>
        <div class="badge">ë‚ ì§œ <strong>${d}</strong></div>
      `;
    }

    function showToast(msg){
      const t = $('#toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(()=> t.classList.remove('show'), 3000);
    }

    // ì—´ì°¨ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    const tBody = $('#trainList');
    TRAINS.forEach(t => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td data-label="ì—´ì°¨">
          <span style="font-weight:800; color:${t.color}">${t.type}</span> 
          <span class="pill">${t.id}</span>
        </td>
        <td data-label="ì—¬ì •">
          <div style="display:flex; align-items:center; gap:6px;">
            <strong>${t.dep}</strong> 
            <span style="color:var(--text-muted)">â†’</span> 
            <strong>${t.arr}</strong>
          </div>
        </td>
        <td data-label="ì†Œìš”">${t.dur}</td>
        <td data-label="ì •ë³´"><span class="pill">${t.note}</span></td>
        <td>
          <button class="action-btn" onclick="toggleDetail(this)">ìƒì„¸</button>
          <a href="${t.link}" class="action-btn primary" target="_blank">íƒ‘ìŠ¹</a>
        </td>
      `;
      tBody.appendChild(row);

      // ìƒì„¸(ì ‘ê¸°/í´ê¸°) í–‰
      const foldRow = document.createElement('tr');
      foldRow.innerHTML = `
        <td colspan="5" style="padding:0; border:none;">
          <div class="fold-content">
             <dl class="kv-list">
               <dt>ì—´ì°¨ëª…</dt> <dd>${t.name}</dd>
               <dt>ì¢Œì„ë“±ê¸‰</dt> <dd>ì¼ë°˜ì‹¤ (ììœ ì„)</dd>
               <dt>ìŠ¹ì°¨ê¶Œ</dt> 
               <dd>
                 <button class="action-btn" style="padding:4px 8px; font-size:11px;" 
                   onclick="downloadTicket('${t.id}', '${t.name}', '${t.dep}', '${t.arr}')">
                   ì´ë¯¸ì§€ ì €ì¥ (4:3)
                 </button>
               </dd>
             </dl>
          </div>
        </td>
      `;
      tBody.appendChild(foldRow);
    });

    function toggleDetail(btn){
      const tr = btn.closest('tr');
      const nextTr = tr.nextElementSibling;
      const content = nextTr.querySelector('.fold-content');
      
      if(content.style.display === 'block'){
        content.style.display = 'none';
        btn.textContent = 'ìƒì„¸';
      } else {
        content.style.display = 'block';
        btn.textContent = 'ë‹«ê¸°';
      }
    }

    // ì½˜í…ì¸  ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    const cBody = $('#contentList');
    CONTENTS.forEach(c => {
      const row = document.createElement('tr');
      const statusClass = c.status ? 'status-ok' : '';
      const statusText = c.status ? 'ê³µê°œë¨' : 'ì¤€ë¹„ì¤‘';
      const btn = c.status 
        ? `<a href="${c.link}" class="action-btn primary" target="_blank">ë³´ê¸°</a>`
        : `<button class="action-btn" disabled style="opacity:0.5">ëŒ€ê¸°</button>`;
        
      row.innerHTML = `
        <td data-label="ë‚ ì§œ" style="font-family:var(--mono)">${c.date}</td>
        <td data-label="êµ¬ë¶„"><span class="pill">${c.type}</span></td>
        <td data-label="ì œëª©"><strong>${c.title}</strong></td>
        <td data-label="ìƒíƒœ" class="${statusClass}">
          <span class="status-dot"></span>${statusText}
        </td>
        <td>${btn}</td>
      `;
      cBody.appendChild(row);
    });

    // --- 4. í‹°ì¼“ ë‹¤ìš´ë¡œë“œ (QR ì œê±°ë¨) ---
    function downloadTicket(id, name, dep, arr){
      const W = 1200;
      const H = 900;
      const canvas = document.createElement('canvas');
      canvas.width = W; canvas.height = H;
      const ctx = canvas.getContext('2d');

      // 1. ë°°ê²½ (í•­ìƒ ë‹¤í¬ í…Œë§ˆ ëŠë‚Œì˜ í”„ë¦¬ë¯¸ì—„ ë””ìì¸)
      const grad = ctx.createLinearGradient(0, 0, W, H);
      grad.addColorStop(0, "#1a1e2b");
      grad.addColorStop(1, "#0b0d12");
      ctx.fillStyle = grad;
      ctx.fillRect(0,0,W,H);

      // 2. í‹°ì¼“ í”„ë ˆì„
      const pad = 60;
      ctx.fillStyle = "#222633";
      ctx.strokeStyle = "rgba(255,255,255,0.1)";
      ctx.lineWidth = 2;
      
      // ë‘¥ê·¼ ì‚¬ê°í˜• ê·¸ë¦¬ê¸°
      roundRect(ctx, pad, pad, W - pad*2, H - pad*2, 30);
      ctx.fill();
      ctx.stroke();

      // 3. ìƒë‹¨ ë 
      ctx.fillStyle = "#6ea8ff";
      ctx.fillRect(pad, pad+40, W-pad*2, 8);

      // 4. í…ìŠ¤íŠ¸ ë‚´ìš©
      ctx.fillStyle = "#ffffff";
      ctx.textAlign = "left";

      // íƒ€ì´í‹€
      ctx.font = "800 50px sans-serif";
      ctx.fillText("BOARDING PASS", pad+60, pad+130);
      
      ctx.fillStyle = "#6ea8ff";
      ctx.font = "600 30px sans-serif";
      ctx.fillText("DADADA Double Single", pad+60, pad+180);

      // ì—´ì°¨ ì •ë³´ (ì¤‘ì•™)
      ctx.fillStyle = "#ffffff";
      ctx.font = "900 80px sans-serif";
      ctx.fillText(name, pad+60, pad+320);

      // ì‹œê°„ ì •ë³´ ë°•ìŠ¤
      ctx.fillStyle = "rgba(255,255,255,0.05)";
      ctx.fillRect(pad+60, pad+380, W-(pad*2)-120, 180);
      
      ctx.fillStyle = "#8b9bb4"; // ë¼ë²¨ ìƒ‰
      ctx.font = "500 24px sans-serif";
      ctx.fillText("DEPART", pad+100, pad+430);
      ctx.fillText("ARRIVE", pad+400, pad+430);
      ctx.fillText("TRAIN NO", pad+700, pad+430);

      ctx.fillStyle = "#fff"; // ê°’ ìƒ‰
      ctx.font = "700 40px monospace";
      ctx.fillText(dep, pad+100, pad+490);
      ctx.fillText(arr, pad+400, pad+490);
      ctx.fillText(id, pad+700, pad+490);

      // 5. í•˜ë‹¨ ê¾¸ë°ˆ (QR ì œê±°ë¨)
      ctx.fillStyle = "#8b9bb4";
      ctx.font = "400 20px sans-serif";
      ctx.fillText("This ticket is a virtual item for fans.", pad+60, H - pad - 60);
      
      // ìš°ì¸¡ í•˜ë‹¨ ë¡œê³  í…ìŠ¤íŠ¸
      ctx.textAlign = "right";
      ctx.fillStyle = "rgba(255,255,255,0.3)";
      ctx.font = "800 30px sans-serif";
      ctx.fillText("DADADA", W - pad - 60, H - pad - 60);

      // ë‹¤ìš´ë¡œë“œ íŠ¸ë¦¬ê±°
      const link = document.createElement('a');
      link.download = `Ticket_${id}.png`;
      link.href = canvas.toDataURL();
      link.click();
      
      showToast('ìŠ¹ì°¨ê¶Œì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }

    function roundRect(ctx, x, y, w, h, r) {
      if (w < 2 * r) r = w / 2;
      if (h < 2 * r) r = h / 2;
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.arcTo(x + w, y, x + w, y + h, r);
      ctx.arcTo(x + w, y + h, x, y + h, r);
      ctx.arcTo(x, y + h, x, y, r);
      ctx.arcTo(x, y, x + w, y, r);
      ctx.closePath();
    }
  </script>
</body>
</html>
